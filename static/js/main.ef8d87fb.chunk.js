(this.webpackJsonpismart_golden=this.webpackJsonpismart_golden||[]).push([[0],{257:function(e,t,n){},401:function(e,t){},404:function(e,t){},406:function(e,t){},417:function(e,t){},419:function(e,t){},447:function(e,t){},449:function(e,t){},450:function(e,t){},455:function(e,t){},457:function(e,t){},463:function(e,t){},465:function(e,t){},484:function(e,t){},496:function(e,t){},499:function(e,t){},519:function(e,t,n){var c=n(520).createProxyMiddleware;e.exports=function(e){var t=c("/api",{target:"https://ismart2.goldennet.com.tw:5000",changeOrigin:!0,secure:!1});e.use(t)}},579:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(241),i=n.n(a),s=(n(257),n(249)),r=n(10),l=n(87),d=n(11),u=n(84),b=n(32),f=n(252),j=n(88),h=n(27),p=n.n(h),m=n(86),x=n(65),O=n(52),g=n.n(O),v=n(33),w=n.n(v),y=n(21),C=n.n(y),N=n(247),S=n.n(N),A=n(248),k=n.n(A),_=n(1),T=function(){var e,t,n=Object(c.useState)(""),o=Object(d.a)(n,2),a=o[0],i=o[1],s=p()(32).toString("hex"),r=p()(32).toString("hex"),h=function(){var e="https://access.line.me/oauth2/v2.1/authorize?";e+="response_type=code",e+="&client_id=".concat("1656692096"),e+="&redirect_uri=".concat("https://chennalhua.github.io/testtest/"),e+="&state=".concat(s),e+="&nonce=".concat(r),e+="&scope=openid%20profile",e+="&prompt=consent",e+="&bot_prompt=normal",window.location.href=e};Object(c.useEffect)((function(){var e=C.a.parse(window.location.href,!0).query;0===Object.keys(e).length&&h()}));Object(c.useEffect)((function(){!function(e){var t=C.a.parse(e,!0).query;if(Object.prototype.hasOwnProperty.call(t,"code")){var n={grant_type:"authorization_code",code:t.code,redirect_uri:"".concat("https://chennalhua.github.io/testtest/"),client_id:"".concat("1656692096"),client_secret:"".concat("8664461fb88612dbf7ab59d5721aea3a")};w.a.post("https://api.line.me/oauth2/v2.1/token",S.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){try{var t=k.a.verify(e.data.id_token,"".concat("8664461fb88612dbf7ab59d5721aea3a"),{algorithms:["HS256"],audience:"".concat("1656692096").toString(),issuer:"https://access.line.me"});i(t.sub),L(t.sub)}catch(n){console.log(n)}})).catch((function(e){console.log(e)}))}else t.error&&g.a.fire({icon:"error",title:"\u767b\u5165\u5931\u6557 ><",text:"\u9700\u300c\u8a31\u53ef\u300d\u6388\u6b0a\uff0c\u624d\u80fd\u9a57\u8b49\u767b\u5165",confirmButtonText:"\u91cd\u65b0\u767b\u5165"}).then((function(){h()}))}(window.location.href)}));var O=j.a().shape({uid:j.b().required("\u8acb\u6b63\u78ba\u8f38\u5165\u5e33\u865f"),pwd:j.b().required("\u8acb\u6b63\u78ba\u8f38\u5165\u5bc6\u78bc")}),v={resolver:Object(f.a)(O)},y=Object(b.d)(v),N=y.register,A=y.handleSubmit,T=y.reset,F=y.formState.errors,R=Object(c.useState)(!1),B=Object(d.a)(R,1)[0],L=function(e){var t=new URLSearchParams;t.append("lineid","Ufb5a74fdae4e3fb897371a8ac2f55dde");var n="".concat("https://ismart2.goldennet.com.tw:5000/api/","LineLogin");w.a.defaults.withCredentials=!0,w.a.post(n,t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Headers":"*"}}).then((function(e){"-2"===e.data.ResponseCode?alert("\u96e2\u8077 ing"):"-3"===e.data.ResponseCode?g.a.fire({icon:"info",title:"\u4e0d\u5728\u4f7f\u7528\u6b0a\u9650\u5167",text:"\u8acb\u9032\u884c\u696d\u7ba1\u7cfb\u300a\u5e33\u865f\u3001\u5bc6\u78bc\u300b\u767b\u5165\u9a57\u8b49",confirmButtonText:"\u597d\u7684"}):alert("\u53ef\u4f7f\u7528")})).catch((function(e){console.log(e)}))},q=Object(c.useState)(!0),E=Object(d.a)(q,2),P=E[0],M=E[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(u.a,{children:Object(_.jsx)("meta",{"http-equiv":"Access-Control-Allow-Origin",content:"*"})}),Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:"container-fluid bg-mask vh-100",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"d-flex justify-content-center",children:Object(_.jsxs)("form",{onSubmit:A((function(e){M(!0);var t=new URLSearchParams;t.append("lineid",a),t.append("uid",e.uid),t.append("pwd",e.pwd);var n="".concat("https://ismart2.goldennet.com.tw:5000/api/","SalesLogin");w.a.post(n,t).then((function(e){console.log(e),"0"===e.data.ResponseCode?(g.a.fire({icon:"success",title:"!!\u9a57\u8b49\u6210\u529f!!",text:"\u6b61\u8fce\u4f7f\u7528 iSmart +",confirmButtonText:"\u95dc\u9589"}),T()):"-4"===e.data.ResponseCode?g.a.fire({icon:"info",title:"\u6b64\u5e33\u865f\u4e0d\u5b58\u5728 ><",text:"\u8acb\u78ba\u8a8d\u5e33\u865f\u662f\u5426\u8f38\u5165\u6b63\u78ba",confirmButtonText:"\u95dc\u9589"}):"-5"===e.data.ResponseCode&&g.a.fire({icon:"error",title:"\u5bc6\u78bc\u932f\u8aa4 ><",text:"\u8acb\u78ba\u8a8d\u5e33\u865f\u5bc6\u78bc\u662f\u5426\u8f38\u5165\u6b63\u78ba",confirmButtonText:"\u95dc\u9589"})})).catch((function(e){console.log(e),T()}))})),className:"col-12 col-md-6 col-lg-4",children:[Object(_.jsxs)("div",{className:"form-group my-3",children:[Object(_.jsx)("label",{htmlFor:"uid",className:"fw-bolder text-golden-brown",children:"\u8acb\u8f38\u5165\u300a\u696d\u7ba1\u7cfb\u7d71\u300b\u5e33\u865f"}),Object(_.jsx)("input",Object(l.a)(Object(l.a)({id:"uid",name:"uid",type:"text"},N("uid")),{},{className:"form-control ".concat(F.uid?"is-invalid":"")})),Object(_.jsx)("div",{className:"invalid-feedback",children:null===(e=F.uid)||void 0===e?void 0:e.message})]}),Object(_.jsxs)("div",{className:"form-group my-3 position-relative",children:[Object(_.jsx)("label",{htmlFor:"pwd",className:"fw-bolder text-golden-brown",children:"\u8acb\u8f38\u5165\u300a\u696d\u7ba1\u7cfb\u7d71\u300b\u5bc6\u78bc"}),Object(_.jsx)("input",Object(l.a)({id:"pwd",name:"pwd",type:P?"password":"text",className:"form-control ".concat(F.pwd?"is-invalid":"")},N("pwd"))),Object(_.jsx)("div",{className:"invalid-feedback",children:null===(t=F.pwd)||void 0===t?void 0:t.message}),Object(_.jsx)("button",{type:"button",className:"btn text-dark-blue position-absolute",style:{right:"-1px",top:"24px"},onClick:function(){M(!P)},children:Object(_.jsx)(m.a,{icon:P?x.a:x.b})})]}),Object(_.jsxs)("button",{type:"submit",className:"btn btn-golden-brown w-100 mt-3",disabled:B?"disabled":"",children:[Object(_.jsx)("div",{className:"spinner-border text-light spinner-border--width mx-2 ".concat(B?"d-inline-block":"d-none"),style:{width:"1rem",height:"1rem"},role:"status"}),"\u767b\u5165"]})]})})})})})]})},F=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=(t[0],t[1]),o=Object(c.useState)([]),a=Object(d.a)(o,2),i=a[0],s=a[1];Object(c.useEffect)((function(){var e="".concat("https://ismart2.goldennet.com.tw:5000/api/","Gcd/loc=");console.log(e),w.a.defaults.withCredentials=!0,w.a.get(e,{header:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Headers":"*"}}).then((function(e){"-1"!=e.data.ResponseCode?(s(e.data),n(!1)):console.log("-1")})).catch((function(e){console.log(e)}))}));var r=[];i.forEach((function(e,t){r.push(e.location)}));var l=r.filter((function(e,t,n){return n.indexOf(e)===t})),b=Object(c.useState)("\u7e3d\u516c\u53f8"),f=Object(d.a)(b,2),j=f[0],h=f[1],p=Object(c.useState)("\u8463\u4e8b\u9577\u5ba4"),O=Object(d.a)(p,2),g=O[0],v=O[1],y=[];!function(e){e.forEach((function(e,t){j===e.location&&y.push(e.department)}))}(i);var C=y.filter((function(e,t,n){return n.indexOf(e)===t}));return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(u.a,{children:Object(_.jsx)("meta",{"http-equiv":"Access-Control-Allow-Origin",content:"*"})}),Object(_.jsxs)("div",{className:"container mt-3",children:[Object(_.jsx)("h5",{children:"\u516c\u53f8\u901a\u8a0a \u9801\u9762"}),Object(_.jsxs)("p",{children:["\u76ee\u524d\u74b0\u5883:","production"]}),Object(_.jsxs)("div",{className:"d-flex pb-2",children:[Object(_.jsx)("select",{className:"form-select",value:j,onChange:function(e){var t=e.target.value;h(t),i.map((function(e){return t===e.location&&v(e.department),!0}))},children:l.map((function(e,t){return Object(_.jsx)("option",{value:e,children:e},e)}))}),Object(_.jsx)("select",{className:"form-select ms-2",value:g,onChange:function(e){var t=e.target.value;v(t)},children:C.map((function(e,t){return Object(_.jsx)("option",{value:e,children:e},e)}))})]}),Object(_.jsx)("ul",{className:"list-unstyled page-content-link fw-bolder",value:!0,children:i.map((function(e,t){return j!==e.location||g!==e.department||Object(_.jsx)("li",{className:"border-bottom py-3",children:Object(_.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(_.jsxs)("span",{children:[Object(_.jsx)(m.a,{className:"me-2 text-dark-blue",icon:x.c}),e.contact]}),Object(_.jsxs)("span",{children:[""===e.extension?" - ":e.extension," /",Object(_.jsx)("a",{href:"tel:+886-".concat(e.telephone),className:"ms-2",children:e.telephone})]})]})},t)}))})]})]})},R=function(e){return Object(_.jsxs)(s.a,{children:[Object(_.jsx)(r.a,{exact:!0,path:"/",children:Object(_.jsx)(T,{})})," ",Object(_.jsx)(r.a,{exact:!0,path:"/test",children:Object(_.jsx)(F,{})})," "]})},B=(n(519),function(){return Object(_.jsx)(R,{})}),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,580)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),a(e),i(e)}))};i.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(B,{})}),document.getElementById("root")),L()}},[[579,1,2]]]);
//# sourceMappingURL=main.ef8d87fb.chunk.js.map