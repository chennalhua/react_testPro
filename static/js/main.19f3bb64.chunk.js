(this.webpackJsonpismart_golden=this.webpackJsonpismart_golden||[]).push([[0],{229:function(e,t,n){},376:function(e,t){},379:function(e,t){},381:function(e,t){},392:function(e,t){},394:function(e,t){},422:function(e,t){},424:function(e,t){},425:function(e,t){},430:function(e,t){},432:function(e,t){},438:function(e,t){},440:function(e,t){},459:function(e,t){},471:function(e,t){},474:function(e,t){},494:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(213),i=n.n(a),s=(n(229),n(221)),r=n(9),l=n(75),d=n(10),u=n(72),b=n(29),j=n(224),f=n(76),p=n(24),h=n.n(p),m=n(74),x=n(56),O=n(45),v=n.n(O),g=n(35),w=n.n(g),y=n(116),N=n.n(y),C=n(219),S=n.n(C),k=n(220),_=n.n(k),A=n(1),T=function(){var e,t,n=Object(c.useState)(""),o=Object(d.a)(n,2),a=o[0],i=o[1],s=h()(32).toString("hex"),r=h()(32).toString("hex"),p=function(){var e="https://access.line.me/oauth2/v2.1/authorize?";e+="response_type=code",e+="&client_id=".concat("1656692096"),e+="&redirect_uri=".concat("https://localhost:3000/"),e+="&state=".concat(s),e+="&nonce=".concat(r),e+="&scope=openid%20profile",e+="&prompt=consent",e+="&bot_prompt=normal",window.location.href=e};Object(c.useEffect)((function(){var e=N.a.parse(window.location.href,!0).query;0===Object.keys(e).length&&p()}));Object(c.useEffect)((function(){!function(e){var t=N.a.parse(e,!0).query;if(Object.prototype.hasOwnProperty.call(t,"code")){var n={grant_type:"authorization_code",code:t.code,redirect_uri:"".concat("https://localhost:3000/"),client_id:"".concat("1656692096"),client_secret:"".concat("8664461fb88612dbf7ab59d5721aea3a")};w.a.post("https://api.line.me/oauth2/v2.1/token",S.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){try{var t=_.a.verify(e.data.id_token,"".concat("8664461fb88612dbf7ab59d5721aea3a"),{algorithms:["HS256"],audience:"".concat("1656692096").toString(),issuer:"https://access.line.me"});i(t.sub),L(t.sub)}catch(n){console.log(n)}})).catch((function(e){console.log(e)}))}else t.error&&v.a.fire({icon:"error",title:"\u767b\u5165\u5931\u6557 ><",text:"\u9700\u300c\u8a31\u53ef\u300d\u6388\u6b0a\uff0c\u624d\u80fd\u9a57\u8b49\u767b\u5165",confirmButtonText:"\u91cd\u65b0\u767b\u5165"}).then((function(){p()}))}(window.location.href)}));var O=f.a().shape({uid:f.b().required("\u8acb\u6b63\u78ba\u8f38\u5165\u5e33\u865f"),pwd:f.b().required("\u8acb\u6b63\u78ba\u8f38\u5165\u5bc6\u78bc")}),g={resolver:Object(j.a)(O)},y=Object(b.d)(g),C=y.register,k=y.handleSubmit,T=y.reset,F=y.formState.errors,R=Object(c.useState)(!1),B=Object(d.a)(R,1)[0],L=function(e){var t=new URLSearchParams;t.append("lineid","Ufb5a74fdae4e3fb897371a8ac2f55dde");var n="".concat("/api/","LineLogin");w.a.defaults.withCredentials=!0,w.a.post(n,t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Access-Control-Allow-Headers":"*"}}).then((function(e){"-2"===e.data.ResponseCode?alert("\u96e2\u8077 ing"):"-3"===e.data.ResponseCode?v.a.fire({icon:"info",title:"\u4e0d\u5728\u4f7f\u7528\u6b0a\u9650\u5167",text:"\u8acb\u9032\u884c\u696d\u7ba1\u7cfb\u300a\u5e33\u865f\u3001\u5bc6\u78bc\u300b\u767b\u5165\u9a57\u8b49",confirmButtonText:"\u597d\u7684"}):alert("\u53ef\u4f7f\u7528")})).catch((function(e){console.log(e)}))},q=Object(c.useState)(!0),E=Object(d.a)(q,2),P=E[0],U=E[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(u.a,{children:Object(A.jsx)("meta",{"http-equiv":"Access-Control-Allow-Origin",content:"*"})}),Object(A.jsx)("div",{children:Object(A.jsx)("div",{className:"container-fluid bg-mask vh-100",children:Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("div",{className:"d-flex justify-content-center",children:Object(A.jsxs)("form",{onSubmit:k((function(e){U(!0);var t=new URLSearchParams;t.append("lineid",a),t.append("uid",e.uid),t.append("pwd",e.pwd);var n="".concat("/api/","SalesLogin");w.a.post(n,t).then((function(e){console.log(e),"0"===e.data.ResponseCode?(v.a.fire({icon:"success",title:"!!\u9a57\u8b49\u6210\u529f!!",text:"\u6b61\u8fce\u4f7f\u7528 iSmart +",confirmButtonText:"\u95dc\u9589"}),T()):"-4"===e.data.ResponseCode?v.a.fire({icon:"info",title:"\u6b64\u5e33\u865f\u4e0d\u5b58\u5728 ><",text:"\u8acb\u78ba\u8a8d\u5e33\u865f\u662f\u5426\u8f38\u5165\u6b63\u78ba",confirmButtonText:"\u95dc\u9589"}):"-5"===e.data.ResponseCode&&v.a.fire({icon:"error",title:"\u5bc6\u78bc\u932f\u8aa4 ><",text:"\u8acb\u78ba\u8a8d\u5e33\u865f\u5bc6\u78bc\u662f\u5426\u8f38\u5165\u6b63\u78ba",confirmButtonText:"\u95dc\u9589"})})).catch((function(e){console.log(e),T()}))})),className:"col-12 col-md-6 col-lg-4",children:[Object(A.jsxs)("div",{className:"form-group my-3",children:[Object(A.jsx)("label",{htmlFor:"uid",className:"fw-bolder text-golden-brown",children:"\u8acb\u8f38\u5165\u300a\u696d\u7ba1\u7cfb\u7d71\u300b\u5e33\u865f"}),Object(A.jsx)("input",Object(l.a)(Object(l.a)({id:"uid",name:"uid",type:"text"},C("uid")),{},{className:"form-control ".concat(F.uid?"is-invalid":"")})),Object(A.jsx)("div",{className:"invalid-feedback",children:null===(e=F.uid)||void 0===e?void 0:e.message})]}),Object(A.jsxs)("div",{className:"form-group my-3 position-relative",children:[Object(A.jsx)("label",{htmlFor:"pwd",className:"fw-bolder text-golden-brown",children:"\u8acb\u8f38\u5165\u300a\u696d\u7ba1\u7cfb\u7d71\u300b\u5bc6\u78bc"}),Object(A.jsx)("input",Object(l.a)({id:"pwd",name:"pwd",type:P?"password":"text",className:"form-control ".concat(F.pwd?"is-invalid":"")},C("pwd"))),Object(A.jsx)("div",{className:"invalid-feedback",children:null===(t=F.pwd)||void 0===t?void 0:t.message}),Object(A.jsx)("button",{type:"button",className:"btn text-dark-blue position-absolute",style:{right:"-1px",top:"24px"},onClick:function(){U(!P)},children:Object(A.jsx)(m.a,{icon:P?x.a:x.b})})]}),Object(A.jsxs)("button",{type:"submit",className:"btn btn-golden-brown w-100 mt-3",disabled:B?"disabled":"",children:[Object(A.jsx)("div",{className:"spinner-border text-light spinner-border--width mx-2 ".concat(B?"d-inline-block":"d-none"),style:{width:"1rem",height:"1rem"},role:"status"}),"\u767b\u5165"]})]})})})})})]})},F=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=(t[0],t[1]),o=Object(c.useState)([]),a=Object(d.a)(o,2),i=a[0],s=a[1];Object(c.useEffect)((function(){w.a.get("/api/Gcd/loc=").then((function(e){"-1"!=e.data.ResponseCode?(s(e.data),n(!1)):console.log("-1")})).catch((function(e){console.log(e)}))}));var r=[];i.forEach((function(e,t){r.push(e.location)}));var l=r.filter((function(e,t,n){return n.indexOf(e)===t})),b=Object(c.useState)("\u7e3d\u516c\u53f8"),j=Object(d.a)(b,2),f=j[0],p=j[1],h=Object(c.useState)("\u8463\u4e8b\u9577\u5ba4"),O=Object(d.a)(h,2),v=O[0],g=O[1],y=[];!function(e){e.forEach((function(e,t){f===e.location&&y.push(e.department)}))}(i);var N=y.filter((function(e,t,n){return n.indexOf(e)===t}));return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(u.a,{children:Object(A.jsx)("meta",{"http-equiv":"Access-Control-Allow-Origin",content:"*"})}),Object(A.jsxs)("div",{className:"container mt-3",children:[Object(A.jsx)("h5",{children:"\u516c\u53f8\u901a\u8a0a \u9801\u9762"}),Object(A.jsxs)("p",{children:["\u76ee\u524d\u74b0\u5883:","production"]}),Object(A.jsxs)("div",{className:"d-flex pb-2",children:[Object(A.jsx)("select",{className:"form-select",value:f,onChange:function(e){var t=e.target.value;p(t),i.map((function(e){return t===e.location&&g(e.department),!0}))},children:l.map((function(e,t){return Object(A.jsx)("option",{value:e,children:e},e)}))}),Object(A.jsx)("select",{className:"form-select ms-2",value:v,onChange:function(e){var t=e.target.value;g(t)},children:N.map((function(e,t){return Object(A.jsx)("option",{value:e,children:e},e)}))})]}),Object(A.jsx)("ul",{className:"list-unstyled page-content-link fw-bolder",value:!0,children:i.map((function(e,t){return f!==e.location||v!==e.department||Object(A.jsx)("li",{className:"border-bottom py-3",children:Object(A.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(A.jsxs)("span",{children:[Object(A.jsx)(m.a,{className:"me-2 text-dark-blue",icon:x.c}),e.contact]}),Object(A.jsxs)("span",{children:[""===e.extension?" - ":e.extension," /",Object(A.jsx)("a",{href:"tel:+886-".concat(e.telephone),className:"ms-2",children:e.telephone})]})]})},t)}))})]})]})},R=function(e){return Object(A.jsxs)(s.a,{children:[Object(A.jsx)(r.a,{exact:!0,path:"/",children:Object(A.jsx)(T,{})})," ",Object(A.jsx)(r.a,{exact:!0,path:"/test",children:Object(A.jsx)(F,{})})," "]})},B=function(){return Object(A.jsx)(R,{})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,495)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),a(e),i(e)}))};i.a.render(Object(A.jsx)(o.a.StrictMode,{children:Object(A.jsx)(B,{})}),document.getElementById("root")),L()}},[[494,1,2]]]);
//# sourceMappingURL=main.19f3bb64.chunk.js.map