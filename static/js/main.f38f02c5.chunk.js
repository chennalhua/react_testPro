(this.webpackJsonpismart_golden=this.webpackJsonpismart_golden||[]).push([[0],{226:function(e,t,n){},373:function(e,t){},376:function(e,t){},378:function(e,t){},389:function(e,t){},391:function(e,t){},419:function(e,t){},421:function(e,t){},422:function(e,t){},427:function(e,t){},429:function(e,t){},435:function(e,t){},437:function(e,t){},456:function(e,t){},468:function(e,t){},471:function(e,t){},491:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(212),a=n.n(i),s=(n(226),n(218)),r=n(9),d=n(73),l=n(10),_=n(29),u=n(221),O=n(74),S=n(24),b=n.n(S),j=n(72),E=n(55),f=n(45),T=n.n(f),p=n(44),h=n.n(p),m=n(115),v=n.n(m),C=n(216),x=n.n(C),N=n(217),R=n.n(N),P=n(1),L=function(){var e,t,n=Object(c.useState)(""),o=Object(l.a)(n,2),i=o[0],a=o[1],s=b()(32).toString("hex"),r=b()(32).toString("hex"),S=function(){var e="https://access.line.me/oauth2/v2.1/authorize?";e+="response_type=code",e+="&client_id=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LINE_LOGIN_CHANNEL_ID_TEST),e+="&redirect_uri=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LINE_LOGIN_CALLBACK_URL_TEST),e+="&state=".concat(s),e+="&nonce=".concat(r),e+="&scope=openid%20profile",e+="&prompt=consent",e+="&bot_prompt=normal",window.location.href=e};Object(c.useEffect)((function(){var e=v.a.parse(window.location.href,!0).query;0===Object.keys(e).length&&S()}));Object(c.useEffect)((function(){!function(e){var t=v.a.parse(e,!0).query;if(Object.prototype.hasOwnProperty.call(t,"code")){var n={grant_type:"authorization_code",code:t.code,redirect_uri:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LINE_LOGIN_CALLBACK_URL_TEST),client_id:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LINE_LOGIN_CHANNEL_ID_TEST),client_secret:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LINE_LOGIN_CHANNEL_SECRET_TEST)};h.a.post("https://api.line.me/oauth2/v2.1/token",x.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){try{var t=R.a.verify(e.data.id_token,"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LINE_LOGIN_CHANNEL_SECRET_TEST),{algorithms:["HS256"],audience:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LINE_LOGIN_CHANNEL_ID_TEST).toString(),issuer:"https://access.line.me"});a(t.sub),w(t.sub)}catch(n){console.log(n)}})).catch((function(e){console.log(e)}))}else t.error&&T.a.fire({icon:"error",title:"\u767b\u5165\u5931\u6557 ><",text:"\u9700\u300c\u8a31\u53ef\u300d\u6388\u6b0a\uff0c\u624d\u80fd\u9a57\u8b49\u767b\u5165",confirmButtonText:"\u91cd\u65b0\u767b\u5165"}).then((function(){S()}))}(window.location.href)}));var f=O.a().shape({uid:O.b().required("\u8acb\u6b63\u78ba\u8f38\u5165\u5e33\u865f"),pwd:O.b().required("\u8acb\u6b63\u78ba\u8f38\u5165\u5bc6\u78bc")}),p={resolver:Object(u.a)(f)},m=Object(_.d)(p),C=m.register,N=m.handleSubmit,L=m.reset,A=m.formState.errors,D=Object(c.useState)(!1),g=Object(l.a)(D,1)[0],w=function(e){var t=new URLSearchParams;t.append("lineid","Ufb5a74fdae4e3fb897371a8ac2f55dde");var n="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOLDEN_API5000,"LineLogin");h.a.post(n,t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}}).then((function(e){"-2"===e.data.ResponseCode?alert("\u96e2\u8077 ing"):"-3"===e.data.ResponseCode?T.a.fire({icon:"info",title:"\u4e0d\u5728\u4f7f\u7528\u6b0a\u9650\u5167",text:"\u8acb\u9032\u884c\u696d\u7ba1\u7cfb\u300a\u5e33\u865f\u3001\u5bc6\u78bc\u300b\u767b\u5165\u9a57\u8b49",confirmButtonText:"\u597d\u7684"}):alert("\u53ef\u4f7f\u7528")})).catch((function(e){console.log(e)}))},H=Object(c.useState)(!0),I=Object(l.a)(H,2),K=I[0],W=I[1];return Object(P.jsx)("div",{children:Object(P.jsx)("div",{className:"container-fluid bg-mask vh-100",children:Object(P.jsx)("div",{className:"container",children:Object(P.jsx)("div",{className:"d-flex justify-content-center",children:Object(P.jsxs)("form",{onSubmit:N((function(e){W(!0);var t=new URLSearchParams;t.append("lineid",i),t.append("uid",e.uid),t.append("pwd",e.pwd);var n="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOLDEN_API5000,"SalesLogin");h.a.post(n,t).then((function(e){console.log(e),"0"===e.data.ResponseCode?(T.a.fire({icon:"success",title:"!!\u9a57\u8b49\u6210\u529f!!",text:"\u6b61\u8fce\u4f7f\u7528 iSmart +",confirmButtonText:"\u95dc\u9589"}),L()):"-4"===e.data.ResponseCode?T.a.fire({icon:"info",title:"\u6b64\u5e33\u865f\u4e0d\u5b58\u5728 ><",text:"\u8acb\u78ba\u8a8d\u5e33\u865f\u662f\u5426\u8f38\u5165\u6b63\u78ba",confirmButtonText:"\u95dc\u9589"}):"-5"===e.data.ResponseCode&&T.a.fire({icon:"error",title:"\u5bc6\u78bc\u932f\u8aa4 ><",text:"\u8acb\u78ba\u8a8d\u5e33\u865f\u5bc6\u78bc\u662f\u5426\u8f38\u5165\u6b63\u78ba",confirmButtonText:"\u95dc\u9589"})})).catch((function(e){console.log(e),L()}))})),className:"col-12 col-md-6 col-lg-4",children:[Object(P.jsxs)("div",{className:"form-group my-3",children:[Object(P.jsx)("label",{htmlFor:"uid",className:"fw-bolder text-golden-brown",children:"\u8acb\u8f38\u5165\u300a\u696d\u7ba1\u7cfb\u7d71\u300b\u5e33\u865f"}),Object(P.jsx)("input",Object(d.a)(Object(d.a)({id:"uid",name:"uid",type:"text"},C("uid")),{},{className:"form-control ".concat(A.uid?"is-invalid":"")})),Object(P.jsx)("div",{className:"invalid-feedback",children:null===(e=A.uid)||void 0===e?void 0:e.message})]}),Object(P.jsxs)("div",{className:"form-group my-3 position-relative",children:[Object(P.jsx)("label",{htmlFor:"pwd",className:"fw-bolder text-golden-brown",children:"\u8acb\u8f38\u5165\u300a\u696d\u7ba1\u7cfb\u7d71\u300b\u5bc6\u78bc"}),Object(P.jsx)("input",Object(d.a)({id:"pwd",name:"pwd",type:K?"password":"text",className:"form-control ".concat(A.pwd?"is-invalid":"")},C("pwd"))),Object(P.jsx)("div",{className:"invalid-feedback",children:null===(t=A.pwd)||void 0===t?void 0:t.message}),Object(P.jsx)("button",{type:"button",className:"btn text-dark-blue position-absolute",style:{right:"-1px",top:"24px"},onClick:function(){W(!K)},children:Object(P.jsx)(j.a,{icon:K?E.a:E.b})})]}),Object(P.jsxs)("button",{type:"submit",className:"btn btn-golden-brown w-100 mt-3",disabled:g?"disabled":"",children:[Object(P.jsx)("div",{className:"spinner-border text-light spinner-border--width mx-2 ".concat(g?"d-inline-block":"d-none"),style:{width:"1rem",height:"1rem"},role:"status"}),"\u767b\u5165"]})]})})})})})},A=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=(t[0],t[1]),o=Object(c.useState)([]),i=Object(l.a)(o,2),a=i[0],s=i[1];Object(c.useEffect)((function(){var e="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/testtest",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOLDEN_API5000,"Gcd/loc=");console.log(e),h.a.get(e).then((function(e){"-1"!=e.data.ResponseCode?(s(e.data),n(!1)):console.log("-1")})).catch((function(e){console.log(e)}))}),[]);var r=[];a.forEach((function(e,t){r.push(e.location)}));var d=r.filter((function(e,t,n){return n.indexOf(e)===t})),_=Object(c.useState)("\u7e3d\u516c\u53f8"),u=Object(l.a)(_,2),O=u[0],S=u[1],b=Object(c.useState)("\u8463\u4e8b\u9577\u5ba4"),f=Object(l.a)(b,2),T=f[0],p=f[1],m=[];!function(e){e.forEach((function(e,t){O===e.location&&m.push(e.department)}))}(a);var v=m.filter((function(e,t,n){return n.indexOf(e)===t}));return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"container mt-3",children:[Object(P.jsx)("h5",{children:"\u516c\u53f8\u901a\u8a0a \u9801\u9762"}),Object(P.jsxs)("div",{className:"d-flex pb-2",children:[Object(P.jsx)("select",{className:"form-select",value:O,onChange:function(e){var t=e.target.value;S(t),a.map((function(e){return t===e.location&&p(e.department),!0}))},children:d.map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},e)}))}),Object(P.jsx)("select",{className:"form-select ms-2",value:T,onChange:function(e){var t=e.target.value;p(t)},children:v.map((function(e,t){return Object(P.jsx)("option",{value:e,children:e},e)}))})]}),Object(P.jsx)("ul",{className:"list-unstyled page-content-link fw-bolder",value:!0,children:a.map((function(e,t){return O!==e.location||T!==e.department||Object(P.jsx)("li",{className:"border-bottom py-3",children:Object(P.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(P.jsxs)("span",{children:[Object(P.jsx)(j.a,{className:"me-2 text-dark-blue",icon:E.c}),e.contact]}),Object(P.jsxs)("span",{children:[""===e.extension?" - ":e.extension," /",Object(P.jsx)("a",{href:"tel:+886-".concat(e.telephone),className:"ms-2",children:e.telephone})]})]})},t)}))})]})})},D=function(e){return Object(P.jsxs)(s.a,{children:[Object(P.jsx)(r.a,{exact:!0,path:"/",children:Object(P.jsx)(L,{})})," ",Object(P.jsx)(r.a,{exact:!0,path:"/test",children:Object(P.jsx)(A,{})})," "]})},g=function(){return Object(P.jsx)(D,{})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,492)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};a.a.render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(g,{})}),document.getElementById("root")),w()}},[[491,1,2]]]);
//# sourceMappingURL=main.f38f02c5.chunk.js.map